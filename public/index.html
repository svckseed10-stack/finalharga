<script>
/* =============================
// FORMAT NUMBER (SAMA SEPERTI AWAL)
============================= */
function fmtRp(n){
  let parts = Number(n).toFixed(3).split(".");
  parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ".");
  return parts.join(",");
}

function fmtInt(n){
  return Number(n).toLocaleString("id-ID");
}

/* =============================
// PROFIT & SPREAD (FORMAT ASLI)
============================= */
function updateProfit(buy, sell){
  const spread = buy - sell;
  document.getElementById("spread").innerText =
    "Spread: " + fmtInt(spread);

  // ===== 20 JT =====
  const gram20 = nilaiEmas20 / buy;
  const profit20 = gram20 * sell - modal20;
  const gramProfit20 = profit20 / sell;

  document.getElementById("profit").innerText =
    "Profit 20jt: Rp " + fmtRp(profit20) +
    " (" + gramProfit20.toFixed(4).replace(".", ",") + " gr)";

  // ===== 30 JT =====
  const gram30 = nilaiEmas30 / buy;
  const profit30 = gram30 * sell - modal30;
  const gramProfit30 = profit30 / sell;

  document.getElementById("profit2").innerText =
    "Profit 30jt: Rp " + fmtRp(profit30) +
    " (" + gramProfit30.toFixed(4).replace(".", ",") + " gr)";
}
</script>
